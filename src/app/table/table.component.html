<p-table
  #dt
  [value]="vehicleList"
  [(selection)]="selectedCustomers"
  dataKey="id"
  [rowHover]="true"
  [rows]="10"
  [showCurrentPageReport]="true"
  [rowsPerPageOptions]="[10, 25, 50]"
  [loading]="loading"
  [paginator]="true"
  currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
  [filterDelay]="0"
  [globalFilterFields]="[
    'vehicle.name',
    'driver',
    'road_name',
  ]"
>
  <ng-template pTemplate="caption">
    <div class="table-header">
      Event List
      <span class="p-input-icon-left">
        <i class="pi pi-search"></i>
        <input
          pInputText
          type="text"
          (input)="dt.filterGlobal($event.target.value, 'contains')"
          placeholder="Global Search"
        />
      </span>
    </div>
  </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <!-- <th style="width: 4rem">
        <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
      </th> -->
      <th style="width: 5rem"></th>
      <th pSortableColumn="vehicle.name" style="min-width: 14rem">
        <div class="flex justify-content-between align-items-center">
          Vehicle
          <p-sortIcon field="vehicle.name"></p-sortIcon>
          <p-columnFilter
            type="text"
            field="vehicle.name"
            display="menu"
            class="ml-auto"
          ></p-columnFilter>
        </div>
      </th>
      <th pSortableColumn="driver" style="min-width: 14rem">
        <div class="flex justify-content-between align-items-center">
          Driver
          <p-sortIcon field="driver"></p-sortIcon>
          <p-columnFilter
            type="text"
            field="driver"
            display="menu"
            class="ml-auto"
          ></p-columnFilter>
        </div>
      </th>
      <th pSortableColumn="road_name" style="min-width: 14rem">
        <div class="flex justify-content-between align-items-center">
          Road Name
          <p-sortIcon field="road_name"></p-sortIcon>
          <p-columnFilter
            type="text"
            field="road_name"
            display="menu"
            class="ml-auto"
          ></p-columnFilter>
        </div>
      </th>
      <th pSortableColumn="date" style="min-width: 10rem">
        <div class="flex justify-content-between align-items-center">
          Risk Labels
        </div>
      </th>
      <th pSortableColumn="status" style="min-width: 10rem">
        <div class="flex justify-content-between align-items-center">
          Status

        </div>
      </th>
      <th pSortableColumn="eventInfo" style="min-width: 10rem">
        <div class="flex justify-content-between align-items-center">
          Event Info
        </div>
      </th>
      <th pSortableColumn="start_time" style="min-width: 10rem">
        <div class="flex justify-content-between align-items-center">
          Time
          <p-sortIcon field="start_time"></p-sortIcon>
          <p-columnFilter
            type="numeric"
            field="start_time"
            display="menu"
            class="ml-auto"
          ></p-columnFilter>
        </div>
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-vehicle>
    <tr class="p-selectable-row">
      <!-- <td>
        <p-tableCheckbox [value]="vehicleList"></p-tableCheckbox>
      </td> -->
      <td>
        <img src="assets/dora_bad.jpeg" width="80" />
      </td>
      <td>
        <span class="p-column-title">Vehicle</span>
        {{ vehicle.vehicle.name }}
      </td>
      <td>
        <span class="p-column-title">Driver</span>

        Doraemon
      </td>
      <td>
        <span class="p-column-title">Road Name</span>
        {{ vehicle.road_name }}
      </td>
      <td>
        <span class="p-column-title">Risk Labels</span>
        <p-chip label="Speeding"></p-chip>
      </td>
      <td>
        <span class="p-column-title">Status</span>
        <div class="status">Needs review</div>
      </td>
      <td>
        <span class="p-column-title">Event Info</span>
        fake event info
      </td>
      <td>
        <span class="p-column-title">Time</span>
        {{ vehicle.start_time * 1000 | date : "MMM d, yyyy, HH:mm" }}
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="8">No customers found.</td>
    </tr>
  </ng-template>
</p-table>
